@model GeodesyApi.Web.ViewModels.News.GetNewsCollectionViewModel
@{
    this.ViewData["Title"] = "News";
}



<!-- PAGE -->
<section class="page news">
    <aside>
        <h1><img src="~/img/icons/news.svg" alt="" title=""> Новини и събития</h1>
        <a href="#" id="show" class="show-nav">&#9776;</a>
        <div class="sidebar-nav" id="pushleft">
            <a href="#" id="hide" class="hide-nav">&times;</a>
            <!-- inner nav-->
            <ul class="cd-accordion-menu animated">
                <li class="has-children">
                    <input type="checkbox" name="group-1" id="group-1">
                    <label for="group-1">Новини</label>
                    <ul>
                        <li><a href="#" title="">Заседание на работна група</a></li>
                        <li><a href="#" title="" class="active">Конференция</a></li>
                        <li><a href="#" title="">Нови геод. инструменти</a></li>
                        <li><a href="#" title="">Конкурси</a></li>
                    </ul>
                </li>
                <li class="has-children">
                    <input type="checkbox" name="group-2" id="group-2">
                    <label for="group-2">Събития</label>
                    <ul>
                        <li><a href="#" title="">Заседание на работна група</a></li>
                        <li><a href="#" title="">Конференция</a></li>
                        <li><a href="#" title="">Нови геод. инструменти</a></li>
                        <li><a href="#" title="">Конкурси</a></li>
                    </ul>
                </li>
                <li class="has-children">
                    <input type="checkbox" name="group-3" id="group-3">
                    <label for="group-3">Препоръчано за студенти</label>
                    <ul>
                        <li><a href="#" title="">Биология и екология</a></li>
                        <li><a href="#" title="" class="active">Науки за земята</a></li>
                        <li><a href="#" title="">Биология</a></li>
                        <li><a href="#" title="">Медицина</a></li>
                        <li><a href="#" title="">Геология</a></li>
                        <li><a href="#" title="">Геодезия, картография и ГИС</a></li>
                        <li><a href="#" title="">Океанографски науки</a></li>
                        <li><a href="#" title="">Логистика и инженерни науки</a></li>
                    </ul>
                </li>
            </ul><!-- inner nav-->

        </div>


    </aside>
    <div class="content">
        <div class="news-container">
            <div class="articles">
                @foreach (var item in Model.News)
                {
                    <article>
                        <div class="news-icon">
                            <img src="~/img/icons/news-list2.svg" alt="" title="">
                        </div>
                        <div class="article-title">
                            <a href="@item.Url" title="">@item.Title</a><br>
                            <span>@item.CreatedOn, Публикуван в категория: <a href="#" title="">@item.Category </a></span>
                        </div>
                    </article>
                }

            </div>

            <!-- .pagination -->
            <nav>
                <ul class="pagination justify-content-center">
                    @if (this.Model.CurrentPage == 1)
                    {
                        <li class="page-item disabled">
                            <a class="page-link" href="#">Previous</a>
                        </li>
                    }
                    else
                    {
                        <li class="page-item">
                            <a class="page-link"
                               asp-route="NumberOfNewsPage"
                               asp-route-name="@this.ViewData["Title"]"
                               asp-route-page="@(this.Model.CurrentPage - 1)">Previous</a>
                        </li>
                    }

                    @for (int i = 1; i <= this.Model.PagesCount; i++)
                    {
                        var active = i == this.Model.CurrentPage ? "active" : string.Empty;
                        <li class="page-item @active">
                            <a class="page-link"
                               asp-route="NumberOfNewsPage"
                               asp-route-name="@this.ViewData["Title"]"
                               asp-route-page="@i">@i</a>
                        </li>
                    }

                    @if (this.Model.CurrentPage == this.Model.PagesCount)
                    {
                        <li class="page-item disabled">
                            <a class="page-link" href="#">Next</a>
                        </li>
                    }
                    else
                    {
                        <li class="page-item">
                            <a class="page-link"
                               asp-route="NumberOfNewsPage"
                               asp-route-name="@this.ViewData["Title"]"
                               asp-route-page="@(this.Model.CurrentPage + 1)">Next</a>
                        </li>
                    }
                </ul>
            </nav>
        </div><!-- .pagination -->
        </div>
    </div>

</section><!-- PAGE -->


<script src="js/jquery.min.js" type="text/javascript"></script>
<script>
    $(document).ready(function () {


        /* the Responsive menu script */
        $('body').addClass('js');
        var $menu = $('#menu'),
            $menulink = $('.menu-link'),
            $menuTrigger = $('.has-subnav > a');

        $menulink.click(function (e) {
            e.preventDefault();
            $menulink.toggleClass('active');
            $menu.toggleClass('active');
        });

        var add_toggle_links = function () {
            if ($('.menu-link').is(":visible")) {
                if ($(".toggle-link").length > 0) {
                }
                else {
                    $('.has-subnav > a').before('<span class="toggle-link"> Open submenu </span>');
                    $('.toggle-link').click(function (e) {
                        var $this = $(this);
                        $this.toggleClass('active').siblings('ul').toggleClass('active');
                    });
                }
            }
            else {
                $('.toggle-link').empty();
            }
        }
        add_toggle_links();
        $(window).bind("resize", add_toggle_links);

    });
</script>

